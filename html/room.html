<!DOCTYPE html>
<html lang="en">
    <iframe width="0" height="0" src="https://www.youtube.com/embed/8nXqcugV2Y4?&autoplay=1&loop=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
    <link rel="stylesheet" href="roomStyle.css">
    <link rel="stylesheet" href="nav.css">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- 
            background photo: send user selection for bg to a js file, script inside the url
        -->
        <style>
            body {
                background-image:url("https://thumbs.gfycat.com/AgedMiniatureBoto-max-1mb.gif");
                background-position: center center;
                background-repeat: no-repeat;
                background-attachment: fixed;
                background-size: cover;
            }
        </style>
        <div>
            <nav class="navbar">
              <div class="navbar_container">
                <a href="/" id="STUDS.>"></a>
                <a href="homepage.html" id="navbar_logo">Studs.</a>
                <div class="navbar_toggle" id="mobile-menu">
                  <span class="bar"></span>
                  <span class="bar"></span>
                  <span class="bar"></span>
                </div>
                <ul class="navbar_menu">
                  <li class="navbar_item">
                    <a href="homepage.html" class="navbar_links">Home</a>
                  </li>
                  <li class="navbar_item">
                    <a href="aboutus.html" class="navbar_links">About Us</a>
                  </li>
                  <li class="navbar_item">
                    <a href="credits.html" class="navbar_links">Credits</a>
                  </li>
                </ul>
              </div>
            </nav>
            </div> 
            <div class="rect"></div>
    </head>
    <body>
        <p id="countdown"></p>
        <script src="timerScript.js"></script>
    </body>
    <div class="worktime"> <!--buttons are here, and they choose what time they'd like. after the brak timer hits 0 it should go here OR if skip break button is here-->
        <h2>How long would you like to work?</h2>
        <button id="butts" type="button" value="">55 minutes</button> <!--purposely not capitalized for the aesthetics-->
        <!--<button id="butts" type="button">25 minutes</button>
        <button id="butts" type="button">15 minutes</button>
        <button id="butts" type="button">take a break</button>-->
    </div>
    <!--JS: if they press "take a break instead" it should go to the next div thing, the div underneath this. it should go here if timer for work hits zero OR if take a break button is pressed-->
    <div class="breaktime">
        <h2>How long would you like to take a break for?</h2>
        <button id="butts" type="button">5 minutes</button>
        <!--<button id="butts" type="button">10 minutes</button>
        <button id="butts" type="button">15 minutes</button>
        <button id="butts" type="button">skip break</button>-->
    </div>
    <script> 
        var minutes = 0;
        var seconds = 0;
        var interval = null;
        document.getElementsByClassName('worktime').addEventListener('change', e => {
               minutes = +e.target.value; //idk wtf this does dont ask me
        }); 
        document.getElementsByClassName('startTimer').addEventListener('click', () => {
            var timeInSeconds = (minutes * 60);
            var  displayTime = () => {
            var displayMinutes = minutes;
            document.getElementById("timer").innerHTML = displayMinutes + " : " + displaySeconds;
            };
        });
    </script>

    <!--somewhere here i think there's gonna be some js that uses the value the user pressed for the timer thing-->
    <div>
        <p id="timer"></p>
        <script> //okay so this is actually javascript now so yeah...basically here you wanna get the timer stuff
            //var countDownDate = new Date ("") <-i have no idea if this works i just googles this shit
        </script>
    </div>
    
    <!-- chat function???? -->
    <div class="chat">
        <!-- button to open chat  style="background: url(https://cdn.discordapp.com/attachments/856693825014726696/876172132491612220/purple_circle.png)"-->
        <button class="chat-open-btn" onClick="openForm()" style="background: url(https://cdn.discordapp.com/attachments/834608507911143475/876182620290023524/open.png)"></button>
        <button class="chat-close-btn" onClick="closeForm()" style="background: url(https://cdn.discordapp.com/attachments/834608507911143475/876182613386211419/close.png)"></button>
        <!-- giant empty container thing to log messages and whatever -->
        <div class="container">
            <header class="chat-header">Chat!</header>
            <!-- form thing for chat? -->
            <div class="form-container">
                <form id="chat-form">
                    <input id="chat-input" autocomplete="off" type="text" placeholder="Send a message"/>
                    <button class="chat-send-btn">send</button>
                </form>
            </div>
        </div>
        <!-- checking if the chat button was clicked-->
        <div>
            <script>
                /*
                document.getElementById('chat-open-btn').onclick = function() {
                    document.getElementById("chat-form").style.display="block";
                    document.getElementById('chat-open-btn').style.display="none";
                    document.getElementById('chat-close-btn').style.display="block";
                }â€‹;
                document.getElementById('chat-close-btn').onclick = function() {
                    document.getElementById("chat-form").style.display="none";
                    document.getElementById('chat-close-btn').style.display="none";
                    document.getElementById('chat-open-btn').style.display="block";
                };
                */
               
                document.querySelector(".chat-open-btn") .addEventListener("click", openForm);
                document.querySelector(".chat-close-btn").addEventListener("click", closeForm);
                function openForm() {
                    document.querySelector(".chat-close-btn").style.display = "block";
                    document.getElementById("chat-form").style.display="block";
                }
                function closeForm() {
                    document.querySelector(".chat-open-btn").style.display = "block";
                    document.getElementById("chat-form").style.display="none";
                }
                
            </script>
        </div>
        <!-- establishing connection through socket.io -->
        <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket = io();

            var form = document.getElementById('form');
            var input = document.getElementById('input');

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                if (input.value) {
                socket.emit('chat message', input.value);
                input.value = '';
                }
            });

            socket.on('chat message', function(msg) {
                var item = document.createElement('li');
                item.textContent = msg;
                messages.appendChild(item);
                window.scrollTo(0, document.body.scrollHeight);
            });
        </script>
        
    </div>
    
</html>